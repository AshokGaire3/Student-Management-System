import{r as we,a as Ce}from"./vendor-DavUf6mE.js";import{r as f,G as O,M as le,L as Se,E as Ie,a as se,A as te,H as ke,U as T,B as R,C as $,b as Z,S as ne,F as de,X as F,c as pe,d as Me,e as V,f as je,g as Ee,h as z,i as De,T as ie,j as B,k as _,l as H,P as re,m as oe,D as X,n as ce,o as be,p as Ae,R as Re,q as ee,s as qe,t as fe,u as Pe,v as Te,w as Ge}from"./icons-Dsh-RJmV.js";(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))x(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const a of h.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&x(a)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function x(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();var ae={exports:{}},Y={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var me;function Le(){if(me)return Y;me=1;var l=we(),p=Symbol.for("react.element"),r=Symbol.for("react.fragment"),x=Object.prototype.hasOwnProperty,u=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function a(j,d,c){var n,y={},b=null,S=null;c!==void 0&&(b=""+c),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(S=d.ref);for(n in d)x.call(d,n)&&!h.hasOwnProperty(n)&&(y[n]=d[n]);if(j&&j.defaultProps)for(n in d=j.defaultProps,d)y[n]===void 0&&(y[n]=d[n]);return{$$typeof:p,type:j,key:b,ref:S,props:y,_owner:u.current}}return Y.Fragment=r,Y.jsx=a,Y.jsxs=a,Y}var xe;function Oe(){return xe||(xe=1,ae.exports=Le()),ae.exports}var e=Oe(),K={},ue;function $e(){if(ue)return K;ue=1;var l=Ce();return K.createRoot=l.createRoot,K.hydrateRoot=l.hydrateRoot,K}var Fe=$e();const Ne=f.createContext(void 0),W=()=>{const l=f.useContext(Ne);if(!l)throw new Error("useAuth must be used within an AuthProvider");return l},ze=[{id:"admin-1",email:"admin@university.edu",password:"admin123",role:"admin",name:"Dr. Sarah Johnson",avatar:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"instructor-1",email:"jane.instructor@university.edu",password:"instructor123",role:"instructor",name:"Prof. Michael Chen",avatar:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"1",email:"emma.rodriguez@student.edu",password:"student123",role:"student",name:"Emma Rodriguez",avatar:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",email:"james.wilson@student.edu",password:"student123",role:"student",name:"James Wilson",avatar:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"3",email:"sophia.chen@student.edu",password:"student123",role:"student",name:"Sophia Chen",avatar:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150"}],Ue=({children:l})=>{const[p,r]=f.useState(null),h={user:p,login:async(a,j)=>{await new Promise(y=>setTimeout(y,1e3));const d=ze.find(y=>y.email===a&&y.password===j);if(!d)throw new Error("Invalid credentials");const{password:c,...n}=d;return r(n),n},logout:()=>{r(null)},isAuthenticated:!!p};return e.jsx(Ne.Provider,{value:h,children:l})},ye=f.createContext(void 0),q=()=>{const l=f.useContext(ye);if(!l)throw new Error("useData must be used within a DataProvider");return l},Be=[{id:"1",majorName:"Computer Science",majorCode:"CS",description:"Study of algorithmic processes and computational systems",requiredCredits:120,degreeType:"Bachelor"},{id:"2",majorName:"Mathematics",majorCode:"MATH",description:"Study of numbers, quantity, structure, space, and change",requiredCredits:120,degreeType:"Bachelor"},{id:"3",majorName:"English Literature",majorCode:"ENG",description:"Study of written works, especially those considered of superior or lasting artistic merit",requiredCredits:120,degreeType:"Bachelor"},{id:"4",majorName:"Business Administration",majorCode:"BUS",description:"Study of business management, economics, and organizational behavior",requiredCredits:120,degreeType:"Bachelor"}],_e=[{id:"1",firstName:"Emma",lastName:"Rodriguez",email:"emma.rodriguez@student.edu",dateOfBirth:"2002-05-15",enrollmentDate:"2023-08-15",status:"active",phone:"+1 (555) 123-4567",address:"123 College Ave, University City, UC 12345",gpa:3.85,majorId:"1",avatar:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",firstName:"James",lastName:"Wilson",email:"james.wilson@student.edu",dateOfBirth:"2001-11-22",enrollmentDate:"2023-08-15",status:"active",phone:"+1 (555) 234-5678",address:"456 University Blvd, Campus Town, CT 67890",gpa:3.92,majorId:"2",avatar:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"3",firstName:"Sophia",lastName:"Chen",email:"sophia.chen@student.edu",dateOfBirth:"2003-03-08",enrollmentDate:"2023-08-15",status:"active",phone:"+1 (555) 345-6789",address:"789 Academic Way, Scholar Hill, SH 13579",gpa:3.67,majorId:"3",avatar:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150"}],Ve=[{id:"1",courseName:"Introduction to Computer Science",courseCode:"CS101",instructorId:"2",instructorName:"Prof. Michael Chen",credits:3,semester:"Fall",year:2024,enrolledStudents:28,maxStudents:30,majorId:"1",description:"Fundamental concepts of computer science including programming, algorithms, and data structures.",prerequisites:[]},{id:"2",courseName:"Calculus I",courseCode:"MATH101",instructorId:"3",instructorName:"Dr. Lisa Park",credits:4,semester:"Fall",year:2024,enrolledStudents:25,maxStudents:35,majorId:"2",description:"Introduction to differential and integral calculus with applications.",prerequisites:[]},{id:"3",courseName:"English Composition",courseCode:"ENG101",instructorId:"4",instructorName:"Prof. David Kim",credits:3,semester:"Fall",year:2024,enrolledStudents:22,maxStudents:25,majorId:"3",description:"Fundamentals of academic writing, critical thinking, and literary analysis.",prerequisites:[]}],We=[{id:"1",studentId:"1",courseId:"1",grade:"A-",points:3.7,dateAssigned:"2024-01-15",assignment:"Final Project"},{id:"2",studentId:"1",courseId:"2",grade:"B+",points:3.3,dateAssigned:"2024-01-12",assignment:"Midterm Exam"},{id:"3",studentId:"2",courseId:"1",grade:"A",points:4,dateAssigned:"2024-01-15",assignment:"Final Project"}],He=[{id:"1",studentId:"1",courseId:"1",enrollmentDate:"2023-08-15",status:"enrolled"},{id:"2",studentId:"1",courseId:"2",enrollmentDate:"2023-08-15",status:"enrolled"},{id:"3",studentId:"2",courseId:"1",enrollmentDate:"2023-08-15",status:"enrolled"}],Je=[{id:"1",studentId:"1",currentMajorId:"1",requestedMajorId:"4",status:"pending",requestDate:"2024-01-10",reason:"I have developed a strong interest in business strategy and entrepreneurship through elective courses."},{id:"2",studentId:"2",currentMajorId:"2",requestedMajorId:"1",status:"approved",requestDate:"2023-12-15",reviewDate:"2024-01-05",reviewedBy:"admin",reason:"I want to apply my mathematical background to software development and algorithms.",adminComments:"Approved due to strong mathematical foundation and relevant coursework."}],Ye=({children:l})=>{const[p,r]=f.useState(_e),[x,u]=f.useState(Ve),[h,a]=f.useState(We),[j,d]=f.useState(He),[c,n]=f.useState(Be),[y,b]=f.useState(Je),S=I=>{const C={...I,id:Date.now().toString()};r(k=>[...k,C])},v=(I,C)=>{r(k=>k.map(D=>D.id===I?{...D,...C}:D))},m=I=>{r(C=>C.filter(k=>k.id!==I))},i=I=>{const C={...I,id:Date.now().toString()};u(k=>[...k,C])},s=(I,C)=>{u(k=>k.map(D=>D.id===I?{...D,...C}:D))},o=I=>{u(C=>C.filter(k=>k.id!==I))},t=I=>{const C={...I,id:Date.now().toString()};a(k=>[...k,C])},w=(I,C)=>{a(k=>k.map(D=>D.id===I?{...D,...C}:D))},N=I=>{const C={...I,id:Date.now().toString()};d(k=>[...k,C])},g=I=>h.filter(C=>C.studentId===I),ve={students:p,courses:x,grades:h,enrollments:j,majors:c,majorChangeRequests:y,addStudent:S,updateStudent:v,deleteStudent:m,addCourse:i,updateCourse:s,deleteCourse:o,addGrade:t,updateGrade:w,enrollStudent:N,addEnrollment:I=>{d(C=>[...C,I])},getStudentEnrollments:I=>j.filter(C=>C.studentId===I),addMajor:I=>{const C={...I,id:Date.now().toString()};n(k=>[...k,C])},updateMajor:(I,C)=>{n(k=>k.map(D=>D.id===I?{...D,...C}:D))},deleteMajor:I=>{n(C=>C.filter(k=>k.id!==I))},submitMajorChangeRequest:I=>{const C={...I,id:Date.now().toString()};b(k=>[...k,C])},reviewMajorChangeRequest:(I,C,k)=>{if(b(D=>D.map(U=>U.id===I?{...U,status:C,reviewDate:new Date().toISOString().split("T")[0],reviewedBy:"admin",adminComments:k}:U)),C==="approved"){const D=y.find(U=>U.id===I);D&&v(D.studentId,{majorId:D.requestedMajorId})}},getStudentGrades:g,getStudentCourses:I=>{const C=j.filter(k=>k.studentId===I);return x.filter(k=>C.some(D=>D.courseId===k.id))},getCourseStudents:I=>{const C=j.filter(k=>k.courseId===I);return p.filter(k=>C.some(D=>D.studentId===k.id))},getMajorCourses:I=>x.filter(C=>C.majorId===I),getStudentMajor:I=>{const C=p.find(k=>k.id===I);return C?c.find(k=>k.id===C.majorId):void 0},calculateGPA:I=>{const C=g(I);if(C.length===0)return 0;const k=C.reduce((D,U)=>D+U.points,0);return Math.round(k/C.length*100)/100}};return e.jsx(ye.Provider,{value:ve,children:l})},Qe=({onLogin:l})=>{const{login:p}=W(),[r,x]=f.useState(""),[u,h]=f.useState(""),[a,j]=f.useState(!1),[d,c]=f.useState(""),[n,y]=f.useState(!1),b=async v=>{v.preventDefault(),y(!0),c("");try{const m=await p(r,u);l(m)}catch{c("Invalid email or password")}finally{y(!1)}},S=[{role:"Administrator",email:"admin@school.edu",password:"admin123"},{role:"Instructor",email:"instructor@school.edu",password:"instructor123"},{role:"Student",email:"student@school.edu",password:"studentdemo123"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center mb-4",children:e.jsx(O,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your Student Management account"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:r,onChange:v=>x(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors",placeholder:"Enter your email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:a?"text":"password",value:u,onChange:v=>h(v.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors",placeholder:"Enter your password",required:!0}),e.jsx("button",{type:"button",onClick:()=>j(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 hover:text-gray-600",children:a?e.jsx(Ie,{}):e.jsx(se,{})})]})]}),d&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[e.jsx(te,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:d})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg hover:from-blue-700 hover:to-indigo-700 focus:ring-4 focus:ring-blue-200 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Signing In..."})]}):"Sign In"})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3 text-center",children:"Demo Credentials:"}),e.jsx("div",{className:"space-y-2",children:S.map((v,m)=>e.jsxs("button",{onClick:()=>{x(v.email),h(v.password)},className:"w-full text-left px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors text-xs",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[v.role,":"]}),e.jsx("span",{className:"text-gray-600 ml-1",children:v.email})]},m))})]})]})})})},Ke=({activeView:l,setActiveView:p,isOpen:r,onClose:x,userRole:u})=>{const a=[{id:"dashboard",label:"Dashboard",icon:ke,roles:["admin","instructor","student"]},{id:"students",label:"Students",icon:T,roles:["admin","instructor"]},{id:"courses",label:"Courses",icon:R,roles:["admin","instructor"]},{id:"course-registration",label:"Course Registration",icon:$,roles:["student"]},{id:"grades",label:"Grades",icon:O,roles:["admin","instructor","student"]},{id:"enrollment",label:"Enrollment",icon:Z,roles:["admin"]},{id:"major-requests",label:"Major Requests",icon:ne,roles:["admin"]},{id:"reports",label:"Reports",icon:de,roles:["admin","instructor"]}].filter(d=>d.roles.includes(u)),j=d=>{p(d),x()};return e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:x}),e.jsxs("div",{className:`
        fixed lg:static inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out
        ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(O,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"EduManager"})]}),e.jsx("button",{onClick:x,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(F,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:a.map(d=>{const c=d.icon,n=l===d.id;return e.jsxs("button",{onClick:()=>j(d.id),className:`
                  w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200
                  ${n?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border-r-2 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}
                `,children:[e.jsx(c,{className:`w-5 h-5 ${n?"text-blue-600":"text-gray-500"}`}),e.jsx("span",{className:"font-medium",children:d.label})]},d.id)})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(pe,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Quick Stats"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Real-time analytics"})]})]})})]})]})},Xe=({user:l,onLogout:p,onMenuClick:r,onNavigate:x})=>{const[u,h]=f.useState(!1),[a,j]=f.useState(!1),d=[{id:1,text:"New student enrollment request",time:"5 min ago",unread:!0},{id:2,text:"Grade submission deadline reminder",time:"1 hour ago",unread:!0},{id:3,text:"System maintenance scheduled",time:"2 hours ago",unread:!1}],c=d.filter(n=>n.unread).length;return e.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 relative z-30",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:r,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(Me,{className:"w-5 h-5 text-gray-600"})}),e.jsx("div",{className:"hidden sm:flex items-center space-x-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search students, courses...",className:"pl-10 pr-4 py-2 w-80 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>j(!a),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(je,{className:"w-5 h-5 text-gray-600"}),c>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:c})]}),a&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 py-2",children:[e.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notifications"})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:d.map(n=>e.jsxs("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer ${n.unread?"bg-blue-50":""}`,children:[e.jsx("p",{className:"text-sm text-gray-900",children:n.text}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.time})]},n.id))})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>h(!u),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("img",{src:l?.avatar||"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",alt:l?.name,className:"w-8 h-8 rounded-full object-cover"}),e.jsxs("div",{className:"hidden sm:block text-left",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l?.name}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:l?.role})]}),e.jsx(Ee,{className:"w-4 h-4 text-gray-500"})]}),u&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2",children:[e.jsxs("button",{onClick:()=>{x?.("profile"),h(!1)},className:"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:()=>{x?.("settings"),h(!1)},className:"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Settings"})]}),e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsxs("button",{onClick:p,className:"w-full flex items-center space-x-3 px-4 py-2 text-sm text-red-700 hover:bg-red-50",children:[e.jsx(De,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})]})]})]})]}),(u||a)&&e.jsx("div",{className:"fixed inset-0 z-20",onClick:()=>{h(!1),j(!1)}})]})},he=()=>{const{user:l}=W(),{students:p,courses:r,enrollments:x}=q(),u=[{title:"Total Students",value:p.length,change:"+12%",changeType:"positive",icon:T,color:"blue"},{title:"Active Courses",value:r.length,change:"+5%",changeType:"positive",icon:R,color:"indigo"},{title:"Enrollments",value:x.length,change:"+8%",changeType:"positive",icon:O,color:"emerald"},{title:"Avg GPA",value:"3.75",change:"+0.2",changeType:"positive",icon:ie,color:"purple"}],h=[{id:1,type:"enrollment",text:"Emma Rodriguez enrolled in CS101",time:"2 hours ago",icon:Z},{id:2,type:"grade",text:"New grade submitted for MATH101",time:"4 hours ago",icon:B},{id:3,type:"student",text:"James Wilson updated profile",time:"6 hours ago",icon:T},{id:4,type:"course",text:"New course ENG101 created",time:"1 day ago",icon:R}],a=[{id:1,task:"Grade Submission Deadline - CS101",due:"Tomorrow",priority:"high"},{id:2,task:"Student Registration Opens",due:"Next Week",priority:"medium"},{id:3,task:"Faculty Meeting",due:"Friday 2PM",priority:"low"},{id:4,task:"System Maintenance",due:"Weekend",priority:"medium"}],j=d=>{const c={blue:"bg-blue-500 from-blue-500 to-blue-600",indigo:"bg-indigo-500 from-indigo-500 to-indigo-600",emerald:"bg-emerald-500 from-emerald-500 to-emerald-600",purple:"bg-purple-500 from-purple-500 to-purple-600"};return c[d]||c.blue};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 text-white",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",l?.name,"!"]}),e.jsxs("p",{className:"text-blue-100 text-lg",children:["Here's what's happening with your ",l?.role==="admin"?"institution":"courses"," today."]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map((d,c)=>{const n=d.icon;return e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:d.title}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:d.value}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("span",{className:`text-sm font-medium ${d.changeType==="positive"?"text-emerald-600":"text-red-600"}`,children:d.change}),e.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"from last month"})]})]}),e.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${j(d.color)} rounded-lg flex items-center justify-center`,children:e.jsx(n,{className:"w-6 h-6 text-white"})})]})},c)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Activities"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-4",children:h.map(d=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(_,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 text-sm",children:d.text}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:d.time})]})]},d.id))}),e.jsx("button",{className:"w-full mt-4 text-blue-600 text-sm font-medium hover:text-blue-700 transition-colors",children:"View all activities"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upcoming Tasks"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-4",children:a.map(d=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${d.priority==="high"?"bg-red-500":d.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 text-sm font-medium",children:d.task}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:d.due})]})]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx($,{className:"w-4 h-4"})})]},d.id))}),e.jsx("button",{className:"w-full mt-4 text-blue-600 text-sm font-medium hover:text-blue-700 transition-colors",children:"View all tasks"})]})]})]}),l?.role==="admin"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[e.jsx(T,{className:"w-6 h-6 text-gray-500"}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Add New Student"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[e.jsx(R,{className:"w-6 h-6 text-gray-500"}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Create Course"})]}),e.jsxs("button",{className:"flex items-center space-x-3 p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[e.jsx(O,{className:"w-6 h-6 text-gray-500"}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Generate Report"})]})]})]})]})},Ze=({isOpen:l,onClose:p})=>{const{user:r}=W(),{majors:x,majorChangeRequests:u,getStudentMajor:h,submitMajorChangeRequest:a}=q(),[j,d]=f.useState(""),[c,n]=f.useState(""),[y,b]=f.useState(""),[S,v]=f.useState(""),[m,i]=f.useState(!1);if(!l||!r||r.role!=="student")return null;const s=h(r.id),o=x.filter(N=>N.id!==s?.id),t=u.find(N=>N.studentId===r.id&&N.status==="pending"),w=async N=>{if(N.preventDefault(),b(""),v(""),!j){b("Please select a major");return}if(!c.trim()){b("Please provide a reason for the major change");return}if(c.trim().length<10){b("Please provide a more detailed reason (at least 10 characters)");return}i(!0);try{await new Promise(g=>setTimeout(g,1e3)),a({studentId:r.id,currentMajorId:s.id,requestedMajorId:j,status:"pending",requestDate:new Date().toISOString().split("T")[0],reason:c.trim()}),v("Major change request submitted successfully! You will be notified once it is reviewed."),d(""),n(""),setTimeout(()=>{p()},2e3)}catch{b("Failed to submit request. Please try again.")}finally{i(!1)}};if(t){const N=x.find(g=>g.id===t.requestedMajorId);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pending Request"}),e.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(F,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(_,{className:"w-8 h-8 text-yellow-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Request Under Review"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["You already have a pending major change request from"," ",e.jsx("span",{className:"font-medium",children:s?.majorName})," to"," ",e.jsx("span",{className:"font-medium",children:N?.majorName}),"."]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Submitted:"})," ",t.requestDate]}),e.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[e.jsx("span",{className:"font-medium",children:"Reason:"})," ",t.reason]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please wait for the current request to be processed before submitting a new one."})]}),e.jsx("button",{onClick:p,className:"w-full mt-6 bg-gray-600 text-white py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})]})})}return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Change Major"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Request to change your declared major"})]}),e.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(F,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Current Major"}),e.jsxs("p",{className:"text-blue-900 font-semibold",children:[s?.majorName," (",s?.majorCode,")"]})]})]})}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requested Major"}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsxs("select",{value:j,onChange:N=>d(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors",required:!0,children:[e.jsx("option",{value:"",children:"Select new major"}),o.map(N=>e.jsxs("option",{value:N.id,children:[N.majorName," (",N.majorCode,")"]},N.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Change"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("textarea",{value:c,onChange:N=>n(N.target.value),rows:4,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors resize-none",placeholder:"Please explain why you want to change your major. Include any relevant academic interests, career goals, or experiences that led to this decision.",required:!0})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 10 characters required. Be specific and detailed."})]}),y&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[e.jsx(te,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:y})]}),S&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-green-50 p-3 rounded-lg",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:S})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:p,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:m,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg hover:from-blue-700 hover:to-indigo-700 focus:ring-4 focus:ring-blue-200 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:m?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Submitting..."})]}):"Submit Request"})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("span",{className:"font-medium",children:"Note:"})," Major change requests are reviewed by academic administrators. You will be notified of the decision via your student dashboard. Processing typically takes 3-5 business days."]})})]})})})},ge=()=>{const{user:l}=W(),{students:p,enrollments:r,courses:x,majors:u,majorChangeRequests:h,getStudentGrades:a,getStudentCourses:j,getStudentMajor:d,calculateGPA:c}=q(),[n,y]=f.useState(!1);if(!l||l.role!=="student")return null;const b=p.find(g=>g.email===l.email),S=b?d(b.id):null,v=b?a(b.id):[],m=b?j(b.id):[],i=b?c(b.id):0,s=S?x.filter(g=>g.majorId===S.id):[],o=m.filter(g=>r.some(E=>E.studentId===b?.id&&E.courseId===g.id&&E.status==="completed")),t=v.sort((g,E)=>new Date(E.dateAssigned).getTime()-new Date(g.dateAssigned).getTime()).slice(0,5),w=b?h.find(g=>g.studentId===b.id&&g.status==="pending"):null,N=b?h.filter(g=>g.studentId===b.id).sort((g,E)=>new Date(E.requestDate).getTime()-new Date(g.requestDate).getTime())[0]:null;return b?e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:e.jsx(z,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome, ",b.firstName,"!"]}),e.jsxs("p",{className:"text-blue-100 text-lg",children:[S?.majorName," • GPA: ",i.toFixed(2)]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Current GPA"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.toFixed(2)})]}),e.jsx(ie,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Enrolled Courses"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:m.length})]}),e.jsx(R,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:o.length})]}),e.jsx(B,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Credits"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:o.reduce((g,E)=>g+E.credits,0)})]}),e.jsx(O,{className:"w-8 h-8 text-indigo-600"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Major Information"}),e.jsx("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",disabled:!!w,children:w?"Request Pending":"Change Major"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(O,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Current Major"}),e.jsxs("p",{className:"text-blue-800",children:[S?.majorName," (",S?.majorCode,")"]})]})]}),e.jsx("p",{className:"text-blue-700 text-sm",children:S?.description}),e.jsxs("div",{className:"mt-3 text-sm text-blue-600",children:[e.jsx("span",{className:"font-medium",children:"Degree:"})," ",S?.degreeType," •",e.jsx("span",{className:"font-medium",children:" Required Credits:"})," ",S?.requiredCredits]})]}),N&&e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Major Change Request"}),e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N.status==="pending"?"bg-yellow-100 text-yellow-800":N.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[N.status==="pending"&&e.jsx(_,{className:"w-3 h-3 inline mr-1"}),N.status.charAt(0).toUpperCase()+N.status.slice(1)]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Requested:"}),e.jsx("span",{className:"ml-2 font-medium",children:u.find(g=>g.id===N.requestedMajorId)?.majorName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Submitted:"}),e.jsx("span",{className:"ml-2",children:N.requestDate})]}),N.status!=="pending"&&N.reviewDate&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Reviewed:"}),e.jsx("span",{className:"ml-2",children:N.reviewDate})]}),N.adminComments&&e.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Admin Comments:"}),e.jsx("p",{className:"mt-1",children:N.adminComments})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Major Requirements Progress"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Completed Courses"}),e.jsxs("span",{className:"font-medium",children:[o.length," / ",s.length]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s.length>0?o.length/s.length*100:0}%`}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Credits Earned"}),e.jsxs("span",{className:"font-medium",children:[o.reduce((g,E)=>g+E.credits,0)," / ",S?.requiredCredits||0]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${S?Math.min(o.reduce((g,E)=>g+E.credits,0)/S.requiredCredits*100,100):0}%`}})})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Grades"})}),e.jsx("div",{className:"p-6",children:t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(B,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No grades available yet"})]}):e.jsx("div",{className:"space-y-4",children:t.map(g=>{const E=x.find(G=>G.id===g.courseId);return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:E?.courseName||"Unknown Course"}),e.jsx("p",{className:"text-sm text-gray-600",children:g.assignment}),e.jsx("p",{className:"text-xs text-gray-500",children:g.dateAssigned})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-lg font-bold ${g.points>=3.7?"text-green-600":g.points>=3?"text-blue-600":g.points>=2?"text-yellow-600":"text-red-600"}`,children:g.grade}),e.jsxs("div",{className:"text-sm text-gray-500",children:[g.points," pts"]})]})]},g.id)})})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Enrollments"})}),e.jsx("div",{className:"p-6",children:m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(R,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No current enrollments"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(g=>{const E=r.find(A=>A.studentId===b.id&&A.courseId===g.id),G=v.filter(A=>A.courseId===g.id),M=G.length>0?(G.reduce((A,P)=>A+P.points,0)/G.length).toFixed(1):"N/A";return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:g.courseName}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E?.status==="enrolled"?"bg-green-100 text-green-800":E?.status==="completed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:E?.status||"Unknown"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.courseCode}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Instructor:"}),e.jsx("span",{children:g.instructorName})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Credits:"}),e.jsx("span",{children:g.credits})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current Grade:"}),e.jsx("span",{className:"font-medium",children:M})]})]},g.id)})})})]}),e.jsx(Ze,{isOpen:n,onClose:()=>y(!1)})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(te,{className:"w-16 h-16 mx-auto text-red-500 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Student Profile Not Found"}),e.jsx("p",{className:"text-gray-600",children:"Unable to load your student profile. Please contact support."})]})},es=({isOpen:l,onClose:p,student:r,mode:x})=>{const{addStudent:u,updateStudent:h}=q(),[a,j]=f.useState({firstName:"",lastName:"",email:"",dateOfBirth:"",enrollmentDate:"",status:"active",phone:"",address:"",gpa:0,avatar:""});f.useEffect(()=>{r&&(x==="view"||x==="edit")?j({firstName:r.firstName,lastName:r.lastName,email:r.email,dateOfBirth:r.dateOfBirth,enrollmentDate:r.enrollmentDate,status:r.status,phone:r.phone,address:r.address,gpa:r.gpa,avatar:r.avatar||""}):x==="create"&&j({firstName:"",lastName:"",email:"",dateOfBirth:"",enrollmentDate:new Date().toISOString().split("T")[0],status:"active",phone:"",address:"",gpa:0,avatar:""})},[r,x,l]);const d=b=>{b.preventDefault(),x==="create"?u(a):x==="edit"&&r&&h(r.id,a),p()},c=b=>{const{name:S,value:v}=b.target;j(m=>({...m,[S]:S==="gpa"?parseFloat(v)||0:v}))};if(!l)return null;const n=x==="view",y=x==="create"?"Add New Student":x==="edit"?"Edit Student":"Student Details";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:y}),e.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(F,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:d,className:"p-6",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.avatar||"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",alt:"Student",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}),!n&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity cursor-pointer",children:e.jsx(z,{className:"w-6 h-6 text-white"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(z,{className:"w-5 h-5 mr-2"}),"Personal Information"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:c,readOnly:n,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:c,readOnly:n,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:a.dateOfBirth,onChange:c,readOnly:n,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(le,{className:"w-5 h-5 mr-2"}),"Contact & Academic"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:c,readOnly:n,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:c,readOnly:n,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enrollment Date"}),e.jsx("input",{type:"date",name:"enrollmentDate",value:a.enrollmentDate,onChange:c,readOnly:n,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:a.status,onChange:c,disabled:n,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"graduated",children:"Graduated"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GPA"}),e.jsx("input",{type:"number",name:"gpa",value:a.gpa,onChange:c,readOnly:n,min:"0",max:"4",step:"0.01",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("textarea",{name:"address",value:a.address,onChange:c,readOnly:n,rows:3,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none ${n?"bg-gray-50 text-gray-600":""}`,placeholder:"Student's address"})]})]}),!n&&e.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:p,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors",children:x==="create"?"Create Student":"Save Changes"})]})]})]})})},ss=()=>{const{students:l,deleteStudent:p}=q(),[r,x]=f.useState(""),[u,h]=f.useState("all"),[a,j]=f.useState(null),[d,c]=f.useState("view"),[n,y]=f.useState(!1),b=l.filter(o=>{const t=o.firstName.toLowerCase().includes(r.toLowerCase())||o.lastName.toLowerCase().includes(r.toLowerCase())||o.email.toLowerCase().includes(r.toLowerCase()),w=u==="all"||o.status===u;return t&&w}),S=()=>{j(null),c("create"),y(!0)},v=o=>{j(o),c("view"),y(!0)},m=o=>{j(o),c("edit"),y(!0)},i=o=>{window.confirm("Are you sure you want to delete this student?")&&p(o)},s=o=>{switch(o){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-yellow-100 text-yellow-800";case"graduated":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Students"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage student records and information"})]}),e.jsxs("button",{onClick:S,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Student"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search students...",value:r,onChange:o=>x(o.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:u,onChange:o=>h(o.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"graduated",children:"Graduated"})]})]}),e.jsxs("button",{className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Student"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Email"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Status"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"GPA"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Enrollment Date"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:b.map(o=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:o.avatar||"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",alt:`${o.firstName} ${o.lastName}`,className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[o.firstName," ",o.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",o.id]})]})]})}),e.jsx("td",{className:"py-4 px-6 text-gray-900",children:o.email}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${s(o.status)}`,children:o.status})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-medium text-gray-900",children:o.gpa.toFixed(2)})}),e.jsx("td",{className:"py-4 px-6 text-gray-900",children:new Date(o.enrollmentDate).toLocaleDateString()}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>v(o),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:e.jsx(se,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>m(o),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"Edit Student",children:e.jsx(ce,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i(o.id),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Student",children:e.jsx(be,{className:"w-4 h-4"})})]})})]},o.id))})]}),b.length===0&&e.jsx("div",{className:"py-12 text-center",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx(Users,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No students found"}),e.jsx("p",{className:"text-sm",children:r||u!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first student."})]})})]})}),e.jsx(es,{isOpen:n,onClose:()=>y(!1),student:a,mode:d})]})},ts=({isOpen:l,onClose:p,course:r,mode:x})=>{const{addCourse:u,updateCourse:h}=q(),[a,j]=f.useState({courseName:"",courseCode:"",instructorId:"",instructorName:"",credits:3,semester:"Fall",year:new Date().getFullYear(),enrolledStudents:0,maxStudents:30});f.useEffect(()=>{r&&(x==="view"||x==="edit")?j({courseName:r.courseName,courseCode:r.courseCode,instructorId:r.instructorId,instructorName:r.instructorName,credits:r.credits,semester:r.semester,year:r.year,enrolledStudents:r.enrolledStudents,maxStudents:r.maxStudents}):x==="create"&&j({courseName:"",courseCode:"",instructorId:"",instructorName:"",credits:3,semester:"Fall",year:new Date().getFullYear(),enrolledStudents:0,maxStudents:30})},[r,x,l]);const d=b=>{b.preventDefault(),x==="create"?u(a):x==="edit"&&r&&h(r.id,a),p()},c=b=>{const{name:S,value:v}=b.target;j(m=>({...m,[S]:["credits","year","enrolledStudents","maxStudents"].includes(S)?parseInt(v)||0:v}))};if(!l)return null;const n=x==="view",y=x==="create"?"Add New Course":x==="edit"?"Edit Course":"Course Details";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:y}),e.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(F,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:d,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(R,{className:"w-5 h-5 mr-2"}),"Course Information"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Name"}),e.jsx("input",{type:"text",name:"courseName",value:a.courseName,onChange:c,readOnly:n,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Code"}),e.jsx("input",{type:"text",name:"courseCode",value:a.courseCode,onChange:c,readOnly:n,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,placeholder:"e.g., CS101",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Credits"}),e.jsx("input",{type:"number",name:"credits",value:a.credits,onChange:c,readOnly:n,min:"1",max:"6",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(z,{className:"w-5 h-5 mr-2"}),"Instructor & Schedule"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor Name"}),e.jsx("input",{type:"text",name:"instructorName",value:a.instructorName,onChange:c,readOnly:n,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Semester"}),e.jsxs("select",{name:"semester",value:a.semester,onChange:c,disabled:n,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0,children:[e.jsx("option",{value:"Spring",children:"Spring"}),e.jsx("option",{value:"Summer",children:"Summer"}),e.jsx("option",{value:"Fall",children:"Fall"}),e.jsx("option",{value:"Winter",children:"Winter"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),e.jsx("input",{type:"number",name:"year",value:a.year,onChange:c,readOnly:n,min:"2020",max:"2030",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0})]})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(T,{className:"w-5 h-5 mr-2"}),"Enrollment"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Enrolled Students"}),e.jsx("input",{type:"number",name:"enrolledStudents",value:a.enrolledStudents,onChange:c,readOnly:n,min:"0",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Students"}),e.jsx("input",{type:"number",name:"maxStudents",value:a.maxStudents,onChange:c,readOnly:n,min:"1",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none ${n?"bg-gray-50 text-gray-600":""}`,required:!0})]})]}),x==="view"&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enrollment Progress"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[a.enrolledStudents,"/",a.maxStudents," (",Math.round(a.enrolledStudents/a.maxStudents*100),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-500 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(a.enrolledStudents/a.maxStudents*100,100)}%`}})})]})]}),!n&&e.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:p,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors",children:x==="create"?"Create Course":"Save Changes"})]})]})]})})},rs=()=>{const{courses:l,deleteCourse:p}=q(),[r,x]=f.useState(""),[u,h]=f.useState(null),[a,j]=f.useState("view"),[d,c]=f.useState(!1),n=l.filter(m=>m.courseName.toLowerCase().includes(r.toLowerCase())||m.courseCode.toLowerCase().includes(r.toLowerCase())||m.instructorName.toLowerCase().includes(r.toLowerCase())),y=()=>{h(null),j("create"),c(!0)},b=m=>{h(m),j("view"),c(!0)},S=m=>{h(m),j("edit"),c(!0)},v=m=>{window.confirm("Are you sure you want to delete this course?")&&p(m)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Courses"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage course catalog and schedules"})]}),e.jsxs("button",{onClick:y,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Course"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search courses...",value:r,onChange:m=>x(m.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(m=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(R,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight",children:m.courseName}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:m.courseCode})]})]})})}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:m.instructorName})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Credits: ",m.credits]}),e.jsxs("span",{className:"text-gray-600",children:[m.semester," ",m.year]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Enrollment"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${m.enrolledStudents/m.maxStudents*100}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[m.enrolledStudents,"/",m.maxStudents]})]})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.enrolledStudents>=m.maxStudents?"bg-red-100 text-red-800":m.enrolledStudents>m.maxStudents*.8?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:m.enrolledStudents>=m.maxStudents?"Full":"Open"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>b(m),className:"flex-1 flex items-center justify-center space-x-2 py-2 px-3 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"View"})]}),e.jsxs("button",{onClick:()=>S(m),className:"flex-1 flex items-center justify-center space-x-2 py-2 px-3 text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx(ce,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Edit"})]}),e.jsx("button",{onClick:()=>v(m.id),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Course",children:e.jsx(be,{className:"w-4 h-4"})})]})]})},m.id))}),n.length===0&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(R,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No courses found"}),e.jsx("p",{className:"text-sm text-gray-500",children:r?"Try adjusting your search criteria.":"Get started by creating your first course."})]})}),e.jsx(ts,{isOpen:d,onClose:()=>c(!1),course:u,mode:a})]})},as=()=>{const{user:l}=W(),{courses:p,enrollments:r,addEnrollment:x,getStudentEnrollments:u}=q(),[h,a]=f.useState(""),[j,d]=f.useState("Spring 2024"),[c,n]=f.useState("all"),y=l?u(l.id):[],b=y.map(t=>t.courseId),S=["Spring 2024","Fall 2023","Summer 2024"],v=["all","Computer Science","Mathematics","Physics","Chemistry","Biology"],m=p.filter(t=>{const w=t.courseName.toLowerCase().includes(h.toLowerCase())||t.courseCode.toLowerCase().includes(h.toLowerCase())||t.instructorName.toLowerCase().includes(h.toLowerCase()),N=j==="all"||`${t.semester} ${t.year}`===j,g=c==="all"||t.courseCode.startsWith(c.split(" ")[0].toUpperCase());return w&&N&&g}),i=async t=>{if(l)try{await x({id:`enr-${Date.now()}`,studentId:l.id,courseId:t,enrollmentDate:new Date().toISOString().split("T")[0],status:"enrolled"}),alert("Successfully enrolled in the course!")}catch{alert("Failed to enroll. Please try again.")}},s=t=>{if(b.includes(t))return"enrolled";const w=p.find(g=>g.id===t);return w&&r.filter(g=>g.courseId===t).length>=w.maxStudents?"full":"available"},o=t=>{switch(t){case"enrolled":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[e.jsx(Ae,{className:"w-3 h-3 mr-1"}),"Enrolled"]});case"full":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Full"]});default:return e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Available"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Course Registration"}),e.jsx("p",{className:"text-gray-600",children:"Search and register for available courses"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search courses, instructors, or course codes...",value:h,onChange:t=>a(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("select",{value:j,onChange:t=>d(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Semesters"}),S.map(t=>e.jsx("option",{value:t,children:t},t))]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("select",{value:c,onChange:t=>n(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Departments"}),v.slice(1).map(t=>e.jsx("option",{value:t,children:t},t))]})})]})}),e.jsx("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-blue-900",children:"Current Enrollment"}),e.jsxs("p",{className:"text-sm text-blue-700",children:["You are enrolled in ",y.length," courses this semester"]})]}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[y.length,"/7"]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Available Courses (",m.length,")"]})}),m.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[e.jsx(R,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No courses found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search criteria or filters"})]}):e.jsx("div",{className:"grid gap-4",children:m.map(t=>{const w=s(t.id),N=r.filter(g=>g.courseId===t.id).length;return e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[t.courseCode," - ",t.courseName]}),o(w)]}),e.jsx("p",{className:"text-gray-600 mb-3",children:t.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsxs("span",{children:["Instructor: ",t.instructorName]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.semester," ",t.year]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsxs("span",{children:["Credits: ",t.credits]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsxs("span",{children:[N,"/",t.maxStudents," enrolled"]})]})]}),t.schedule&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Schedule:"})," ",t.schedule]})]}),e.jsx("div",{className:"flex-shrink-0",children:w==="enrolled"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-green-600 font-medium mb-1",children:"✓ Enrolled"}),e.jsx("button",{className:"text-sm text-red-600 hover:text-red-700",onClick:()=>{alert("Contact your advisor to drop courses")},children:"Drop Course"})]}):w==="full"?e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("div",{className:"font-medium mb-1",children:"Course Full"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:"Join Waitlist"})]}):e.jsxs("button",{onClick:()=>i(t.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(re,{className:"w-4 h-4"}),"Enroll"]})})]})},t.id)})})]})]})},ls=({isOpen:l,onClose:p,grade:r,mode:x})=>{const{students:u,courses:h,addGrade:a,updateGrade:j}=q(),[d,c]=f.useState({studentId:"",courseId:"",grade:"",points:0,assignment:"",dateAssigned:new Date().toISOString().split("T")[0]}),n=[{letter:"A+",points:4},{letter:"A",points:4},{letter:"A-",points:3.7},{letter:"B+",points:3.3},{letter:"B",points:3},{letter:"B-",points:2.7},{letter:"C+",points:2.3},{letter:"C",points:2},{letter:"C-",points:1.7},{letter:"D+",points:1.3},{letter:"D",points:1},{letter:"F",points:0}];f.useEffect(()=>{r&&x==="edit"?c({studentId:r.studentId,courseId:r.courseId,grade:r.grade,points:r.points,assignment:r.assignment,dateAssigned:r.dateAssigned}):x==="create"&&c({studentId:"",courseId:"",grade:"",points:0,assignment:"",dateAssigned:new Date().toISOString().split("T")[0]})},[r,x,l]);const y=s=>{s.preventDefault(),x==="create"?a(d):x==="edit"&&r&&j(r.id,d),p()},b=s=>{const{name:o,value:t}=s.target;c(w=>({...w,[o]:o==="points"?parseFloat(t)||0:t}))},S=s=>{const o=n.find(t=>t.letter===s.target.value);o&&c(t=>({...t,grade:o.letter,points:o.points}))};if(!l)return null;const v=x==="create"?"Add New Grade":"Edit Grade",m=u.find(s=>s.id===d.studentId),i=h.find(s=>s.id===d.courseId);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:v}),e.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(F,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(z,{className:"w-4 h-4 inline mr-2"}),"Student"]}),e.jsxs("select",{name:"studentId",value:d.studentId,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select a student"}),u.map(s=>e.jsxs("option",{value:s.id,children:[s.firstName," ",s.lastName," (",s.email,")"]},s.id))]}),m&&e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:m.avatar||"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",alt:`${m.firstName} ${m.lastName}`,className:"w-8 h-8 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m.firstName," ",m.lastName]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Current GPA: ",m.gpa.toFixed(2)]})]})]})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(R,{className:"w-4 h-4 inline mr-2"}),"Course"]}),e.jsxs("select",{name:"courseId",value:d.courseId,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select a course"}),h.map(s=>e.jsxs("option",{value:s.id,children:[s.courseCode," - ",s.courseName]},s.id))]}),i&&e.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.courseName}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Instructor: ",i.instructorName," | Credits: ",i.credits]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment/Assessment"}),e.jsx("input",{type:"text",name:"assignment",value:d.assignment,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., Final Exam, Project 1, Quiz 3",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(B,{className:"w-4 h-4 inline mr-2"}),"Letter Grade"]}),e.jsxs("select",{name:"grade",value:d.grade,onChange:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select grade"}),n.map(s=>e.jsxs("option",{value:s.letter,children:[s.letter," (",s.points,")"]},s.letter))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Points"}),e.jsx("input",{type:"number",name:"points",value:d.points,onChange:b,min:"0",max:"4",step:"0.1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Assigned"}),e.jsx("input",{type:"date",name:"dateAssigned",value:d.dateAssigned,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),d.grade&&e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Grade Summary"}),e.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Student:"})," ",m?.firstName," ",m?.lastName]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Course:"})," ",i?.courseCode]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Assignment:"})," ",d.assignment]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Grade:"})," ",d.grade," (",d.points," points)"]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:p,className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors",children:x==="create"?"Add Grade":"Update Grade"})]})]})]})})},ns=()=>{const{user:l}=W(),{grades:p,students:r,courses:x,addGrade:u,updateGrade:h,getStudentGrades:a}=q(),[j,d]=f.useState(""),[c,n]=f.useState("all"),[y,b]=f.useState(null),[S,v]=f.useState("create"),[m,i]=f.useState(!1),s=p.filter(M=>{const A=r.find(Q=>Q.id===M.studentId),P=x.find(Q=>Q.id===M.courseId);if(!A||!P)return!1;const L=A.firstName.toLowerCase().includes(j.toLowerCase())||A.lastName.toLowerCase().includes(j.toLowerCase())||P.courseName.toLowerCase().includes(j.toLowerCase())||P.courseCode.toLowerCase().includes(j.toLowerCase()),J=c==="all"||M.courseId===c;return l?.role==="student"?L&&J&&M.studentId===l.id:L&&J}),o=()=>{b(null),v("create"),i(!0)},t=M=>{b(M),v("edit"),i(!0)},w=M=>M>=3.7?"text-green-600 bg-green-100":M>=3?"text-blue-600 bg-blue-100":M>=2?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",N=M=>{const A=a(M);return A.length===0?0:A.reduce((L,J)=>L+J.points,0)/A.length},g=s.length,E=g>0?(s.reduce((M,A)=>M+A.points,0)/g).toFixed(2):"0.00",G=s.filter(M=>M.points>=3.5).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Grades"}),e.jsx("p",{className:"text-gray-600 mt-1",children:l?.role==="student"?"View your academic performance and grades":"Manage student grades and academic performance"})]}),l?.role!=="student"&&e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Grade"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Grades"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:g})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(B,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Average Grade"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:E})]}),e.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center",children:e.jsx(ie,{className:"w-6 h-6 text-emerald-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"High Performers"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:G}),e.jsx("p",{className:"text-sm text-gray-500",children:"A- or better"})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(B,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search students or courses...",value:j,onChange:M=>d(M.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:c,onChange:M=>n(M.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[e.jsx("option",{value:"all",children:"All Courses"}),x.map(M=>e.jsxs("option",{value:M.id,children:[M.courseCode," - ",M.courseName]},M.id))]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Student"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Course"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Assignment"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Grade"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Points"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Date"}),l?.role!=="student"&&e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(M=>{const A=r.find(L=>L.id===M.studentId),P=x.find(L=>L.id===M.courseId);return!A||!P?null:e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:A.avatar||"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",alt:`${A.firstName} ${A.lastName}`,className:"w-8 h-8 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[A.firstName," ",A.lastName]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["GPA: ",N(A.id).toFixed(2)]})]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:P.courseCode}),e.jsx("p",{className:"text-sm text-gray-500",children:P.courseName})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"text-gray-900",children:M.assignment})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium ${w(M.points)}`,children:M.grade})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-medium text-gray-900",children:M.points.toFixed(1)})}),e.jsx("td",{className:"py-4 px-6 text-gray-600",children:new Date(M.dateAssigned).toLocaleDateString()}),l?.role!=="student"&&e.jsx("td",{className:"py-4 px-6",children:e.jsx("button",{onClick:()=>t(M),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit Grade",children:e.jsx(ce,{className:"w-4 h-4"})})})]},M.id)})})]}),s.length===0&&e.jsx("div",{className:"py-12 text-center",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx(B,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No grades found"}),e.jsx("p",{className:"text-sm",children:j||c!=="all"?"Try adjusting your search or filter criteria.":l?.role==="student"?"No grades have been assigned yet.":"Start by adding grades for your students."})]})})]})}),e.jsx(ls,{isOpen:m,onClose:()=>i(!1),grade:y,mode:S})]})},ds=()=>{const{students:l,courses:p,enrollments:r,majors:x,getStudentGrades:u,getCourseStudents:h,getStudentMajor:a}=q(),[j,d]=f.useState("student-transcripts"),c=[{id:"student-transcripts",name:"Student Transcripts",description:"Generate detailed academic transcripts",icon:de},{id:"class-rosters",name:"Class Rosters",description:"View enrolled students for each course",icon:T},{id:"major-distribution",name:"Major Distribution",description:"Analyze student distribution across majors",icon:pe},{id:"enrollment-summary",name:"Enrollment Summary",description:"Course enrollment statistics",icon:$}],n=(i,s)=>{if(i.length===0)return;const o=Object.keys(i[0]).join(","),t=i.map(G=>Object.values(G).join(",")).join(`
`),w=`${o}
${t}`,N=new Blob([w],{type:"text/csv"}),g=window.URL.createObjectURL(N),E=document.createElement("a");E.href=g,E.download=`${s}.csv`,document.body.appendChild(E),E.click(),document.body.removeChild(E),window.URL.revokeObjectURL(g)},y=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Student Transcripts"}),e.jsxs("button",{onClick:()=>{const i=l.map(s=>({StudentID:s.id,Name:`${s.firstName} ${s.lastName}`,Email:s.email,Major:a(s.id)?.majorName||"Undeclared",GPA:s.gpa,Status:s.status,EnrollmentDate:s.enrollmentDate}));n(i,"student_transcripts")},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(X,{className:"w-4 h-4"}),"Export All"]})]}),e.jsx("div",{className:"grid gap-4",children:l.map(i=>{const s=u(i.id),o=a(i.id);return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold",children:[i.firstName," ",i.lastName]}),e.jsx("p",{className:"text-sm text-gray-600",children:i.email}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Major: ",o?.majorName||"Undeclared"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold",children:["GPA: ",i.gpa.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",i.status]})]})]}),s.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Course"}),e.jsx("th",{className:"text-left py-2",children:"Grade"}),e.jsx("th",{className:"text-left py-2",children:"Points"}),e.jsx("th",{className:"text-left py-2",children:"Date"})]})}),e.jsx("tbody",{children:s.map(t=>{const w=p.find(N=>N.id===t.courseId);return e.jsxs("tr",{className:"border-b",children:[e.jsxs("td",{className:"py-2",children:[w?.courseCode," - ",w?.courseName]}),e.jsx("td",{className:"py-2",children:t.grade}),e.jsx("td",{className:"py-2",children:t.points}),e.jsx("td",{className:"py-2",children:t.dateAssigned})]},t.id)})})]})})]},i.id)})})]}),b=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{className:"text-lg font-semibold",children:"Class Rosters"})}),e.jsx("div",{className:"grid gap-4",children:p.map(i=>{const s=h(i.id);return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold",children:[i.courseCode," - ",i.courseName]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Instructor: ",i.instructorName]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[i.semester," ",i.year]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold",children:[s.length," / ",i.maxStudents," students"]}),e.jsx("button",{onClick:()=>{const o=s.map(t=>({StudentID:t.id,Name:`${t.firstName} ${t.lastName}`,Email:t.email,Major:a(t.id)?.majorName||"Undeclared",Status:t.status}));n(o,`${i.courseCode}_roster`)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Export Roster"})]})]}),s.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Student"}),e.jsx("th",{className:"text-left py-2",children:"Email"}),e.jsx("th",{className:"text-left py-2",children:"Major"}),e.jsx("th",{className:"text-left py-2",children:"Status"})]})}),e.jsx("tbody",{children:s.map(o=>e.jsxs("tr",{className:"border-b",children:[e.jsxs("td",{className:"py-2",children:[o.firstName," ",o.lastName]}),e.jsx("td",{className:"py-2",children:o.email}),e.jsx("td",{className:"py-2",children:a(o.id)?.majorName||"Undeclared"}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${o.status==="active"?"bg-green-100 text-green-800":o.status==="graduated"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})})]},o.id))})]})})]},i.id)})})]}),S=()=>{const i=x.map(s=>{const o=l.filter(t=>t.majorId===s.id);return{major:s.majorName,code:s.majorCode,studentCount:o.length,percentage:l.length>0?(o.length/l.length*100).toFixed(1):"0"}});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Major Distribution"}),e.jsxs("button",{onClick:()=>{n(i.map(s=>({Major:s.major,Code:s.code,StudentCount:s.studentCount,Percentage:s.percentage})),"major_distribution")},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(X,{className:"w-4 h-4"}),"Export"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Overview"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Students:"}),e.jsx("span",{className:"font-medium",children:l.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Majors:"}),e.jsx("span",{className:"font-medium",children:x.length})]})]})]}),e.jsx("div",{className:"space-y-3",children:i.map((s,o)=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"font-medium",children:[s.major," (",s.code,")"]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.percentage}%`}})}),e.jsxs("div",{className:"text-right text-sm text-gray-600 mt-1",children:[s.studentCount," students"]})]},o))})]})]})},v=()=>{const i=p.map(s=>{const o=h(s.id),t=r.filter(N=>N.courseId===s.id&&N.status==="completed").length,w=r.filter(N=>N.courseId===s.id&&N.status==="enrolled").length;return{course:s,enrollments:{total:o.length,active:w,completed:t,utilizationRate:(o.length/s.maxStudents*100).toFixed(1)}}});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Enrollment Summary"}),e.jsxs("button",{onClick:()=>{n(i.map(s=>({CourseCode:s.course.courseCode,CourseName:s.course.courseName,Instructor:s.course.instructorName,MaxStudents:s.course.maxStudents,TotalEnrolled:s.enrollments.total,Active:s.enrollments.active,Completed:s.enrollments.completed,UtilizationRate:s.enrollments.utilizationRate})),"enrollment_summary")},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(X,{className:"w-4 h-4"}),"Export"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800",children:"Total Enrollments"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:r.length})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-green-800",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:r.filter(s=>s.status==="enrolled").length})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-purple-800",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:r.filter(s=>s.status==="completed").length})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Course"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Instructor"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Capacity"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Enrolled"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Active"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Completed"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Utilization"})]})}),e.jsx("tbody",{children:i.map((s,o)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.course.courseCode}),e.jsx("div",{className:"text-gray-600",children:s.course.courseName})]})}),e.jsx("td",{className:"py-3 px-4",children:s.course.instructorName}),e.jsx("td",{className:"py-3 px-4",children:s.course.maxStudents}),e.jsx("td",{className:"py-3 px-4",children:s.enrollments.total}),e.jsx("td",{className:"py-3 px-4",children:s.enrollments.active}),e.jsx("td",{className:"py-3 px-4",children:s.enrollments.completed}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${parseFloat(s.enrollments.utilizationRate)>=80?"bg-red-500":parseFloat(s.enrollments.utilizationRate)>=60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${s.enrollments.utilizationRate}%`}})}),e.jsxs("span",{className:"text-xs",children:[s.enrollments.utilizationRate,"%"]})]})})]},o))})]})})]})},m=()=>{switch(j){case"student-transcripts":return y();case"class-rosters":return b();case"major-distribution":return S();case"enrollment-summary":return v();default:return e.jsx("div",{children:"Select a report type"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Generate comprehensive reports and analyze student data"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c.map(i=>e.jsxs("button",{onClick:()=>d(i.id),className:`p-4 rounded-lg border-2 transition-all ${j===i.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[e.jsx(i.icon,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("h3",{className:"font-medium text-sm",children:i.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.description})]},i.id))}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:m()})]})},is=({isOpen:l,onClose:p})=>{const{students:r,courses:x,enrollments:u,enrollStudent:h}=q(),[a,j]=f.useState({studentId:"",courseId:"",enrollmentDate:new Date().toISOString().split("T")[0],status:"enrolled"}),[d,c]=f.useState([]),n=t=>{if(t.preventDefault(),u.find(N=>N.studentId===a.studentId&&N.courseId===a.courseId)){c(["Student is already enrolled in this course."]);return}h(a),p(),y()},y=()=>{j({studentId:"",courseId:"",enrollmentDate:new Date().toISOString().split("T")[0],status:"enrolled"}),c([])},b=t=>{const{name:w,value:N}=t.target;j(g=>({...g,[w]:N})),d.length>0&&c([])},S=()=>{const t=[];if(a.studentId&&a.courseId){u.find(g=>g.studentId===a.studentId&&g.courseId===a.courseId)&&t.push("Student is already enrolled in this course.");const N=x.find(g=>g.id===a.courseId);N&&N.enrolledStudents>=N.maxStudents&&t.push("Course is at maximum capacity.")}c(t)};if(Re.useEffect(()=>{a.studentId&&a.courseId?S():c([])},[a.studentId,a.courseId]),!l)return null;const v=r.find(t=>t.id===a.studentId),m=x.find(t=>t.id===a.courseId),i=a.studentId?u.filter(t=>t.studentId===a.studentId&&t.status==="enrolled"):[],s=i.reduce((t,w)=>{const N=x.find(g=>g.id===w.courseId);return t+(N?.credits||0)},0),o=m?s+m.credits:s;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Enroll Student"}),e.jsx("button",{onClick:()=>{p(),y()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(F,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:n,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(T,{className:"w-4 h-4 inline mr-2"}),"Select Student"]}),e.jsxs("select",{name:"studentId",value:a.studentId,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Choose a student"}),r.filter(t=>t.status==="active").map(t=>e.jsxs("option",{value:t.id,children:[t.firstName," ",t.lastName," (",t.email,")"]},t.id))]}),v&&e.jsx("div",{className:"mt-3 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:v.avatar||"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",alt:`${v.firstName} ${v.lastName}`,className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[v.firstName," ",v.lastName]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"GPA:"})," ",v.gpa.toFixed(2)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Status:"})," ",v.status]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Current Credits:"})," ",s]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Active Courses:"})," ",i.length]})]})]})]})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(R,{className:"w-4 h-4 inline mr-2"}),"Select Course"]}),e.jsxs("select",{name:"courseId",value:a.courseId,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Choose a course"}),x.map(t=>e.jsxs("option",{value:t.id,children:[t.courseCode," - ",t.courseName," (",t.credits," credits)"]},t.id))]}),m&&e.jsxs("div",{className:"mt-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:m.courseName}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Course Code:"})," ",m.courseCode]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Credits:"})," ",m.credits]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Instructor:"})," ",m.instructorName]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Enrollment:"})," ",m.enrolledStudents,"/",m.maxStudents]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Course Capacity"}),e.jsxs("span",{className:"text-gray-600",children:[m.enrolledStudents,"/",m.maxStudents]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${m.enrolledStudents/m.maxStudents>=1?"bg-red-500":m.enrolledStudents/m.maxStudents>.8?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(m.enrolledStudents/m.maxStudents*100,100)}%`}})})]})]})]}),v&&m&&e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Credit Load Summary"}),e.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Current Credits:"}),e.jsx("span",{className:"font-medium",children:s})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Course Credits:"}),e.jsxs("span",{className:"font-medium",children:["+",m.credits]})]}),e.jsxs("div",{className:"flex justify-between border-t border-blue-200 pt-1 font-medium",children:[e.jsx("span",{children:"Total Credits:"}),e.jsx("span",{children:o})]}),o>18&&e.jsx("p",{className:"text-xs text-yellow-700 bg-yellow-100 p-2 rounded mt-2",children:"⚠️ Total credits exceed recommended limit (18 credits)"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx($,{className:"w-4 h-4 inline mr-2"}),"Enrollment Date"]}),e.jsx("input",{type:"date",name:"enrollmentDate",value:a.enrollmentDate,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:a.status,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[e.jsx("option",{value:"enrolled",children:"Enrolled"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"dropped",children:"Dropped"})]})]})]}),d.length>0&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(te,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-red-900",children:"Enrollment Issues"}),e.jsx("ul",{className:"mt-1 text-sm text-red-800 space-y-1",children:d.map((t,w)=>e.jsxs("li",{children:["• ",t]},w))})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>{p(),y()},className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d.length>0,className:"px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Enroll Student"})]})]})]})})},os=()=>{const{enrollments:l,students:p,courses:r,enrollStudent:x}=q(),[u,h]=f.useState(""),[a,j]=f.useState("all"),[d,c]=f.useState(!1),n=l.filter(s=>{const o=p.find(g=>g.id===s.studentId),t=r.find(g=>g.id===s.courseId);if(!o||!t)return!1;const w=o.firstName.toLowerCase().includes(u.toLowerCase())||o.lastName.toLowerCase().includes(u.toLowerCase())||t.courseName.toLowerCase().includes(u.toLowerCase())||t.courseCode.toLowerCase().includes(u.toLowerCase()),N=a==="all"||s.status===a;return w&&N}),y=s=>{switch(s){case"enrolled":return e.jsx(H,{className:"w-4 h-4 text-green-600"});case"completed":return e.jsx(H,{className:"w-4 h-4 text-blue-600"});case"dropped":return e.jsx(ee,{className:"w-4 h-4 text-red-600"});default:return e.jsx(_,{className:"w-4 h-4 text-yellow-600"})}},b=s=>{switch(s){case"enrolled":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"dropped":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},S=n.length,v=n.filter(s=>s.status==="enrolled").length,m=n.filter(s=>s.status==="completed").length,i=n.filter(s=>s.status==="dropped").length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Enrollment Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage student course enrollments and registrations"})]}),e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{children:"Enroll Student"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Enrollments"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:S})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(T,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Active"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:v})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(H,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:m})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(R,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Dropped"}),e.jsx("p",{className:"text-3xl font-bold text-red-600 mt-1",children:i})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(ee,{className:"w-6 h-6 text-red-600"})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search students or courses...",value:u,onChange:s=>h(s.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("select",{value:a,onChange:s=>j(s.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"enrolled",children:"Enrolled"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"dropped",children:"Dropped"})]})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Student"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Course"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Instructor"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Status"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Enrollment Date"}),e.jsx("th",{className:"text-left py-4 px-6 font-medium text-gray-900",children:"Credits"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(s=>{const o=p.find(w=>w.id===s.studentId),t=r.find(w=>w.id===s.courseId);return!o||!t?null:e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:o.avatar||"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",alt:`${o.firstName} ${o.lastName}`,className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[o.firstName," ",o.lastName]}),e.jsx("p",{className:"text-sm text-gray-500",children:o.email})]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.courseCode}),e.jsx("p",{className:"text-sm text-gray-500",children:t.courseName})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"text-gray-900",children:t.instructorName})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[y(s.status),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${b(s.status)}`,children:s.status})]})}),e.jsx("td",{className:"py-4 px-6 text-gray-900",children:new Date(s.enrollmentDate).toLocaleDateString()}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-medium text-gray-900",children:t.credits})})]},s.id)})})]}),n.length===0&&e.jsx("div",{className:"py-12 text-center",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx(Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No enrollments found"}),e.jsx("p",{className:"text-sm",children:u||a!=="all"?"Try adjusting your search or filter criteria.":"Start by enrolling students in courses."})]})})]})}),e.jsx(is,{isOpen:d,onClose:()=>c(!1)})]})},cs=()=>{const{majorChangeRequests:l,students:p,majors:r,reviewMajorChangeRequest:x}=q(),[u,h]=f.useState(""),[a,j]=f.useState("all"),[d,c]=f.useState(null),[n,y]=f.useState(""),b=l.filter(i=>{const s=p.find(w=>w.id===i.studentId),o=s?`${s.firstName} ${s.lastName}`.toLowerCase().includes(u.toLowerCase())||s.email.toLowerCase().includes(u.toLowerCase()):!1,t=a==="all"||i.status===a;return o&&t}),S=async(i,s)=>{try{x(i,s,n.trim()||void 0),c(null),y("")}catch(o){console.error("Error reviewing request:",o)}},v=i=>{switch(i){case"pending":return e.jsx(_,{className:"w-4 h-4 text-yellow-600"});case"approved":return e.jsx(H,{className:"w-4 h-4 text-green-600"});case"denied":return e.jsx(ee,{className:"w-4 h-4 text-red-600"});default:return null}},m=i=>{switch(i){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"denied":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Major Change Requests"}),e.jsx("p",{className:"text-gray-600",children:"Review and manage student major change requests"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by student name or email...",value:u,onChange:i=>h(i.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})}),e.jsx("div",{className:"sm:w-48",children:e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsxs("select",{value:a,onChange:i=>j(i.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"denied",children:"Denied"})]})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-yellow-50 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-800 text-sm font-medium",children:"Pending Review"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:l.filter(i=>i.status==="pending").length})]}),e.jsx(_,{className:"w-8 h-8 text-yellow-600"})]})}),e.jsx("div",{className:"bg-green-50 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:l.filter(i=>i.status==="approved").length})]}),e.jsx(H,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-red-50 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Denied"}),e.jsx("p",{className:"text-2xl font-bold text-red-900",children:l.filter(i=>i.status==="denied").length})]}),e.jsx(ee,{className:"w-8 h-8 text-red-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Requests (",b.length,")"]})}),b.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(R,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No requests found"}),e.jsx("p",{className:"text-gray-500",children:u||a!=="all"?"Try adjusting your search or filter criteria.":"No major change requests have been submitted yet."})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:b.map(i=>{const s=p.find(w=>w.id===i.studentId),o=r.find(w=>w.id===i.currentMajorId),t=r.find(w=>w.id===i.requestedMajorId);return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(z,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:s?`${s.firstName} ${s.lastName}`:"Unknown Student"}),e.jsx("p",{className:"text-sm text-gray-500",children:s?.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"From"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[o?.majorName," (",o?.majorCode,")"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"To"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[t?.majorName," (",t?.majorCode,")"]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Reason"}),e.jsx("p",{className:"text-sm text-gray-700",children:i.reason})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($,{className:"w-3 h-3"}),e.jsxs("span",{children:["Submitted ",i.requestDate]})]}),i.reviewDate&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($,{className:"w-3 h-3"}),e.jsxs("span",{children:["Reviewed ",i.reviewDate]})]})]}),i.adminComments&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(qe,{className:"w-3 h-3 text-gray-500"}),e.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Admin Comments"})]}),e.jsx("p",{className:"text-sm text-gray-700",children:i.adminComments})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-3",children:[e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${m(i.status)}`,children:[v(i.status),e.jsx("span",{className:"capitalize",children:i.status})]}),i.status==="pending"&&e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>c(i.id),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Review"})})]})]})},i.id)})})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Review Request"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Comments (Optional)"}),e.jsx("textarea",{value:n,onChange:i=>y(i.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none",placeholder:"Add comments about your decision..."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{c(null),y("")},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>S(d,"denied"),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Deny"}),e.jsx("button",{onClick:()=>S(d,"approved"),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Approve"})]})]})})]})},ms=()=>{const{user:l}=W(),{getStudentMajor:p}=q(),[r,x]=f.useState(!1),[u,h]=f.useState({firstName:l?.name?.split(" ")[0]||"",lastName:l?.name?.split(" ")[1]||"",email:l?.email||"",phone:"",address:"",emergencyContact:"",bio:""}),a=l?.role==="student"?p(l.id):null,j=c=>{c.preventDefault(),x(!1)},d=(c,n)=>{h(y=>({...y,[c]:n}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile"}),e.jsx("p",{className:"text-gray-600",children:"Manage your personal information and preferences"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:l?.avatar||"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150",alt:l?.name,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l?.name}),e.jsx("p",{className:"text-sm text-gray-500 capitalize",children:l?.role}),a&&e.jsx("p",{className:"text-sm text-blue-600",children:a.majorName})]})]}),e.jsx("button",{onClick:()=>x(!r),className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700",children:r?"Cancel":"Edit Profile"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5"}),"Basic Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),r?e.jsx("input",{type:"text",value:u.firstName,onChange:c=>d("firstName",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):e.jsx("p",{className:"text-gray-900",children:u.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),r?e.jsx("input",{type:"text",value:u.lastName,onChange:c=>d("lastName",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):e.jsx("p",{className:"text-gray-900",children:u.lastName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:"text-gray-900",children:u.email})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),r?e.jsx("input",{type:"tel",value:u.phone,onChange:c=>d("phone",c.target.value),placeholder:"Enter phone number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):e.jsx("p",{className:"text-gray-900",children:u.phone||"Not provided"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5"}),"Additional Information"]}),e.jsxs("div",{className:"space-y-4",children:[l?.role==="student"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student ID"}),e.jsx("p",{className:"text-gray-900",children:l?.id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r?e.jsx("textarea",{value:u.address,onChange:c=>d("address",c.target.value),placeholder:"Enter address",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):e.jsx("p",{className:"text-gray-900",children:u.address||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact"}),r?e.jsx("input",{type:"text",value:u.emergencyContact,onChange:c=>d("emergencyContact",c.target.value),placeholder:"Emergency contact information",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):e.jsx("p",{className:"text-gray-900",children:u.emergencyContact||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),r?e.jsx("textarea",{value:u.bio,onChange:c=>d("bio",c.target.value),placeholder:"Tell us about yourself",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):e.jsx("p",{className:"text-gray-900",children:u.bio||"No bio provided"})]})]})]})]}),r&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-700",children:"Cancel"}),e.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700",children:[e.jsx(fe,{className:"w-4 h-4"}),"Save Changes"]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx($,{className:"w-5 h-5"}),"Account Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Active"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member Since"}),e.jsx("p",{className:"text-gray-900",children:"January 2024"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Login"}),e.jsx("p",{className:"text-gray-900",children:"Today"})]})]})]})]})},xs=()=>{const[l,p]=f.useState({emailNotifications:!0,pushNotifications:!1,gradeAlerts:!0,enrollmentReminders:!0,systemUpdates:!1,profileVisibility:"limited",showEmail:!1,showPhone:!1,theme:"light",language:"en",timezone:"America/New_York",twoFactorAuth:!1,sessionTimeout:30}),r=h=>{p(a=>({...a,[h]:!a[h]}))},x=(h,a)=>{p(j=>({...j,[h]:a}))},u=()=>{alert("Settings saved successfully!")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account preferences and privacy settings"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx(je,{className:"w-5 h-5"}),"Notification Preferences"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications via email"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.emailNotifications,onChange:()=>r("emailNotifications"),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive push notifications on your device"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.pushNotifications,onChange:()=>r("pushNotifications"),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Grade Alerts"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when grades are posted"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.gradeAlerts,onChange:()=>r("gradeAlerts"),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Enrollment Reminders"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Reminders for course enrollment deadlines"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.enrollmentReminders,onChange:()=>r("enrollmentReminders"),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx(se,{className:"w-5 h-5"}),"Privacy Settings"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Visibility"}),e.jsxs("select",{value:l.profileVisibility,onChange:h=>x("profileVisibility",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"public",children:"Public - Visible to everyone"}),e.jsx("option",{value:"limited",children:"Limited - Visible to students and faculty"}),e.jsx("option",{value:"private",children:"Private - Only visible to you"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Show Email Address"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Display your email in your public profile"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.showEmail,onChange:()=>r("showEmail"),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Show Phone Number"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Display your phone number in your profile"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.showPhone,onChange:()=>r("showPhone"),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx(ne,{className:"w-5 h-5"}),"Preferences"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Pe,{className:"w-4 h-4 inline mr-1"}),"Theme"]}),e.jsxs("select",{value:l.theme,onChange:h=>x("theme",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"auto",children:"Auto (System)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Te,{className:"w-4 h-4 inline mr-1"}),"Language"]}),e.jsxs("select",{value:l.language,onChange:h=>x("language",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Español"}),e.jsx("option",{value:"fr",children:"Français"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),e.jsxs("select",{value:l.timezone,onChange:h=>x("timezone",h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),e.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),e.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx(Ge,{className:"w-5 h-5"}),"Security Settings"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.twoFactorAuth,onChange:()=>r("twoFactorAuth"),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (minutes)"}),e.jsxs("select",{value:l.sessionTimeout,onChange:h=>x("sessionTimeout",parseInt(h.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:15,children:"15 minutes"}),e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:120,children:"2 hours"}),e.jsx("option",{value:-1,children:"Never"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Change Password"})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(fe,{className:"w-4 h-4"}),"Save Settings"]})})]})]})},us=({user:l,onLogout:p})=>{const[r,x]=f.useState("dashboard"),[u,h]=f.useState(!1),a=()=>{switch(r){case"dashboard":return l?.role==="student"?e.jsx(ge,{}):e.jsx(he,{});case"students":return e.jsx(ss,{});case"courses":return e.jsx(rs,{});case"course-registration":return e.jsx(as,{});case"grades":return e.jsx(ns,{});case"enrollment":return e.jsx(os,{});case"major-requests":return e.jsx(cs,{});case"reports":return e.jsx(ds,{});case"profile":return e.jsx(ms,{});case"settings":return e.jsx(xs,{});default:return l?.role==="student"?e.jsx(ge,{}):e.jsx(he,{})}};return e.jsxs("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[e.jsx(Ke,{activeView:r,setActiveView:x,isOpen:u,onClose:()=>h(!1),userRole:l?.role}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Xe,{user:l,onLogout:p,onMenuClick:()=>h(!0),onNavigate:x}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:e.jsx("div",{className:"p-4 lg:p-8",children:a()})})]})]})};function hs(){return e.jsx(Ue,{children:e.jsx(Ye,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx(gs,{})})})})}function gs(){const[l,p]=f.useState(!1),[r,x]=f.useState(null);return l?e.jsx(us,{user:r,onLogout:()=>p(!1)}):e.jsx(Qe,{onLogin:u=>{x(u),p(!0)}})}Fe.createRoot(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(hs,{})}));
